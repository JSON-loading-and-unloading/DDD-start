# 9장 도메인 모델과 바운디드 컨텍스트

## 9.1 도메인 모델과 경계

* 도메인을 만들때는 도메인을 완벽하게 표현하는 단일 모델을 만들기 위해 시도하는 것은 좋지 않다. 즉, 도메인은 여러 하위 도메인들을 가질 수 있으며 이를 통해 표현해야 한다.
* 하위 도메인마다 사용하는 용어가 다르기 때문에 올바른 도메인 모델을 개발하려면 하위 도메인마다 모델을 만들어야 한다.
* 모델은 특정한 컨텍스트 하에서 완전한 의미를 가지며, 이를 바운디드 컨텍스트라고 한다.

## 9.2 바운디드 컨텍스트

* 바운디드 컨텍스트는 모델의 경계를 결정하며 한 개의 바운디드 컨텍스트는 논리적으로 한 개의 모델을 가진다.
* 프로젝트 규모에 따라 하나의 바운디드 컨텍스트에 여러 도메인을 가질 수 있다. 이때 하위 도메인의 모델이 섞이지 않도록 해야 한다.
* 같은 이름을 가지더라도 서로 다른 바운디드 컨텍스트에 존재한다면 그에 맞는 모델을 만들어야 한다.

## 9.3 바운디드 컨텍스트 구현

* 바운디드 컨텍스트가 도메인 모델만 포함하는 것은 아닌 포현, 응용, 구현 계층을 모두 포함한다.
* CQRS 패턴을 통해서 읽기 전용 모델과 쓰기 전용 모델을 분리할 수 있다.

## 9.4 바운디드 컨텍스트 간 통합

* 두 바운디드 컨텍스트간 상호작용이 필요한 경우가 있을 수 있다. 해당 상황에서는 한 컨텍스트에서 필요한 서비스 인터페이스를 구현하고, 나머지 컨텍스트에서는 해당 인터페이스를 구현하면 
두 컨텍스트간 통합이 가능하다.
* 두 바운디드 컨텍스트간 메시지 큐를 통해서도 통합할 수 있다.

## 9.5 바운디드 컨텍스트 간 관계

* 바운디드 컨텍스트는 어떤 식으로든 연결되기 때문에 바운디드 컨텍스트는 다양한 방식으로 관계를 맺을 수 있다.
* 두 바운디드 컨텍스트가 관계를 맺는다면 데이터를 요청하는 컨텍스트는 downstream, 데이터를 제공하는 컨텍스트는 upstream이라고 한다.
* upstream은 여러 downstream들이 원하는 api를 만들고 이를 서비스 형태로 공개하면 이를 공개 호스트 서비스라고 한다.
* downstream에서 원하는 데이터를 가져올 때, 해당 데이터를 요청하고 받아오는 서비스 인터페이스를 정의하고 이를 구현 계층에서 구현해야 한다. 이로서 바운디드 컨텍스트 간 영향을 최소화할 수 있다.
* 공유 커널이라는 공통 모델을 만들어 두 바운디드 컨텍스트간 데이터를 주고 받을 수 있다.
* 독립 방식은 두 바운디드 컨텍스트가 서로 영향을 주지 않고 독립적으로 동작할 수 있도록 하는 방식이다. 이는 중간에 통합 시스템을 통해 데이터를 두 컨텍스트에 저장하는 방식이다.

## 9.6 컨텍스트 맵

* 컨텍스트 맵은 나무가 아닌 숲을 보도록 도와주는 도구이다. 이는 여러 바운디드 컨텍스트의 하위 도메인들을 조정할 수 있도록 도와 특정 바운디드 컨텍스트에 집중할지 파악하는 데 도움을 준다.
